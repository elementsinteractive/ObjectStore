apply plugin: 'java-library'
apply plugin: 'kotlin'
apply plugin: 'com.novoda.bintray-release'

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
    implementation "io.reactivex.rxjava2:rxjava:2.2.10"
}

dependencies {
    testImplementation 'junit:junit:4.12'
    testImplementation "org.jetbrains.kotlin:kotlin-test:$kotlin_version"
}

def properties = project.rootProject.file('local.properties').withDataInputStream { stream ->
    def props = new Properties()
    props.load(stream)
    props
}

publish {
    userOrg 'elementsinteractive'
    groupId 'nl.elements.objectstore'
    artifactId 'objectstore'
    publishVersion rootProject.version
    uploadName 'ObjectStore'
    desc 'Convenient interface for persisting objects.'
    website 'https://github.com/elementsinteractive/ObjectStore'

    bintrayUser properties['BINTRAY_USER']
    bintrayKey properties['BINTRAY_KEY']

    dryRun false
    override true
}


sourceCompatibility = "7"
targetCompatibility = "7"
